# Система учета показаний счетчиков

Веб-приложение для учета показаний счетчиков коммунальных услуг с поддержкой нескольких городов.

## Функциональность

- ✅ Ввод показаний счетчиков (электричество, горячая и холодная вода)
- ✅ Автоматический расчет расхода и суммы по тарифам
- ✅ История показаний с фильтрацией по городам и типам
- ✅ Управление тарифами
- ✅ Печать справок
- ✅ Поддержка нескольких городов
- ✅ Адаптивный дизайн

## Технологии

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Backend**: Appwrite.io (Database, Authentication)
- **Стили**: Custom CSS с современным дизайном
- **Шрифты**: Google Fonts (Roboto)

## Структура проекта

```
frontend/
├── index.html          # Главная страница - ввод показаний
├── history.html        # История показаний
├── tariffs.html        # Управление тарифами
├── print.html          # Страница печати справок
├── script.js           # Основная логика приложения
├── history.js          # Логика истории показаний
├── tariffs.js          # Логика управления тарифами
├── style.css           # Стили приложения
└── README.md           # Документация
```

## Установка и запуск

1. Клонируйте репозиторий:
```bash
git clone https://github.com/your-username/meter-readings-frontend.git
cd meter-readings-frontend
```

2. Настройте Appwrite:
   - Создайте проект в [Appwrite Cloud](https://cloud.appwrite.io/)
   - Настройте базу данных и коллекции (см. `APPWRITE_SETUP.md`)
   - Обновите конфигурацию в `config.js`

3. Инициализируйте данные:
   - Откройте `init-data.html` в браузере
   - Введите ваш Project ID
   - Нажмите "Инициализировать данные"

4. Откройте `index.html` в веб-браузере или разверните на веб-сервере

## Настройка Appwrite

### Создание базы данных

1. Создайте базу данных с ID: `meters_db`

2. Создайте коллекции:

#### Коллекция `cities`
- ID: `cities`
- Атрибуты:
  - `name` (string, required) - название города

#### Коллекция `meter_types`
- ID: `meter_types`
- Атрибуты:
  - `name` (string, required) - тип счетчика

#### Коллекция `meters`
- ID: `meters`
- Атрибуты:
  - `city_id` (string, required) - ID города
  - `meter_type_id` (string, required) - ID типа счетчика
  - `prev_date` (datetime, required) - дата предыдущих показаний
  - `prev_reading` (float, required) - предыдущие показания

#### Коллекция `meter_readings`
- ID: `meter_readings`
- Атрибуты:
  - `meter_id` (string, required) - ID счетчика
  - `reading_date` (datetime, required) - дата показаний
  - `reading` (float, required) - показания

#### Коллекция `tariffs`
- ID: `tariffs`
- Атрибуты:
  - `city_id` (string, required) - ID города
  - `meter_type_id` (string, required) - ID типа счетчика
  - `tariff` (float, required) - тариф
  - `start_date` (datetime, required) - дата начала действия
  - `end_date` (datetime, optional) - дата окончания действия

### Настройка разрешений

Для каждой коллекции настройте разрешения:
- Read: `any`
- Write: `any`

(В продакшене рекомендуется настроить более строгие разрешения)

## Конфигурация

Обновите настройки Appwrite в `script.js`:

```javascript
// Настройки Appwrite
const APPWRITE_ENDPOINT = 'https://cloud.appwrite.io/v1';
const APPWRITE_PROJECT_ID = 'your-project-id';
const DATABASE_ID = 'meters_db';
```

## Использование

1. **Выбор города**: Выберите город из выпадающего списка
2. **Ввод показаний**: Введите текущие показания счетчиков
3. **Расчет**: Нажмите "Рассчитать" для подсчета суммы
4. **Сохранение**: Нажмите "Сохранить" для записи в базу данных
5. **История**: Переходите в раздел "История показаний" для просмотра данных
6. **Тарифы**: Управляйте тарифами в соответствующем разделе

## Особенности

- **Цветовая кодировка**: Разные цвета для разных типов ресурсов
- **Адаптивный дизайн**: Работает на мобильных устройствах
- **Валидация**: Проверка корректности введенных данных
- **Автосохранение**: Автоматическое сохранение при потере фокуса

## Браузерная поддержка

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## Лицензия

MIT License

## Автор

Разработано для системы учета коммунальных услуг 