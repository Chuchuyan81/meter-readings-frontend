# Ввод показаний счетчиков

Веб-приложение для ввода и управления показаниями счетчиков с использованием Appwrite в качестве backend.

## Исправления ошибки инициализации Appwrite

### Проблема
Приложение выдавало ошибку "Ошибка инициализации Appwrite" при загрузке страницы.

### Причины и решения

1. **Отсутствие импорта классов Appwrite**
   - **Проблема**: В `appwrite-config.js` не был импортирован класс `Client` и `Databases` из Appwrite SDK
   - **Решение**: Добавлена проверка загрузки SDK и правильный импорт классов

2. **Отсутствие импорта Query**
   - **Проблема**: В `script-appwrite.js` использовался `Query` без импорта
   - **Решение**: Добавлен импорт `Query` и `ID` из Appwrite SDK

3. **Проблемы с глобальной доступностью констант**
   - **Проблема**: Константы из `appwrite-config.js` не были доступны в других файлах
   - **Решение**: Добавлено присвоение констант к `window` объекту

4. **Недостаточная обработка ошибок**
   - **Проблема**: Ошибки инициализации не обрабатывались должным образом
   - **Решение**: Добавлена детальная обработка ошибок с логированием

### Измененные файлы

- `appwrite-config.js` - исправлена инициализация клиента Appwrite
- `script-appwrite.js` - добавлены импорты и улучшена обработка ошибок
- `index.html` - добавлена проверка загрузки SDK
- `test-connection.html` - создана страница для тестирования подключения

### Тестирование

Для проверки исправлений:

1. Откройте `test-connection.html` в браузере
2. Нажмите кнопки тестирования по порядку
3. Проверьте консоль браузера для детальной информации

## Структура проекта

```
├── index.html              # Главная страница приложения
├── appwrite-config.js      # Конфигурация Appwrite
├── script-appwrite.js      # Основная логика приложения
├── test-connection.html    # Страница тестирования подключения
├── style.css              # Стили приложения
└── README.md              # Документация
```

## Конфигурация Appwrite

- **Endpoint**: `https://cloud.appwrite.io/v1`
- **Project ID**: `68790cc0001f9d5ee482`
- **Database ID**: `meter_readings_db`

## Коллекции

- `cities` - города
- `meter_types` - типы счетчиков
- `meters` - счетчики
- `tariffs` - тарифы
- `meter_readings` - показания счетчиков

## Использование

1. Откройте `index.html` в браузере
2. Выберите город из выпадающего списка
3. Введите текущие показания счетчиков
4. Нажмите "Рассчитать" для подсчета суммы
5. Нажмите "Сохранить" для сохранения показаний

## Технологии

- HTML5
- CSS3
- JavaScript (ES6+)
- Appwrite SDK v11.0.0 